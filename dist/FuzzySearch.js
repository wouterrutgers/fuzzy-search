!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.FuzzySearch=t():e.FuzzySearch=t()}("undefined"!=typeof window?window:this,(()=>(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.d(t,{default:()=>a});var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getDescendantProperty",value:function(t,r){var n,o,i,a,s,c,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(r){if(-1===(i=r.indexOf("."))?n=r:(n=r.slice(0,i),o=r.slice(i+1)),null!=(a=t[n]))if(o||"string"!=typeof a&&"number"!=typeof a)if("[object Array]"===Object.prototype.toString.call(a))for(s=0,c=a.length;s<c;s++)e.getDescendantProperty(a[s],o,f);else o&&e.getDescendantProperty(a,o,f);else f.push(a)}else f.push(t);return f}}],(n=null)&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(this,e),Array.isArray(r)||(n=r,r=[]),this.haystack=t,this.keys=r,this.options=Object.assign({caseSensitive:!1,sort:!1},n)}var t,r,a;return t=e,r=[{key:"search",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===t)return this.haystack;for(var r=[],o=0;o<this.haystack.length;o++){var i=this.haystack[o];if(0===this.keys.length){var a=e.isMatch(i,t,this.options.caseSensitive);a&&r.push({item:i,score:a})}else for(var s=0;s<this.keys.length;s++){for(var c=n.getDescendantProperty(i,this.keys[s]),f=!1,u=0;u<c.length;u++){var l=e.isMatch(c[u],t,this.options.caseSensitive);if(l){f=!0,r.push({item:i,score:l});break}}if(f)break}}return this.options.sort&&r.sort((function(e,t){return e.score-t.score})),r.map((function(e){return e.item}))}}],a=[{key:"isMatch",value:function(t,r,n){t=String(t),r=String(r),n||(t=t.toLocaleLowerCase(),r=r.toLocaleLowerCase());var o=e.nearestIndexesFor(t,r);return!!o&&(t===r?1:o.length>1?o[o.length-1]-o[0]+2:2+o[0])}},{key:"nearestIndexesFor",value:function(t,r){var n=r.split(""),o=[];return e.indexesOfFirstLetter(t,r).forEach((function(e,r){var i=e+1;o[r]=[e];for(var a=1;a<n.length;a++){var s=n[a];if(-1===(i=t.indexOf(s,i))){o[r]=!1;break}o[r].push(i),i++}})),!!(o=o.filter((function(e){return!1!==e}))).length&&o.sort((function(e,t){return 1===e.length?e[0]-t[0]:(e=e[e.length-1]-e[0])-(t=t[t.length-1]-t[0])}))[0]}},{key:"indexesOfFirstLetter",value:function(e,t){var r=t[0];return e.split("").map((function(e,t){return e===r&&t})).filter((function(e){return!1!==e}))}}],r&&i(t.prototype,r),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();return t=t.default})()));